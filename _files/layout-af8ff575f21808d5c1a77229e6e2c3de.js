function createCountdown(){var n=$('[data-hide-countdown="false"]#wedding-countdown'),t=n.data("wedding-date"),e=moment(t).startOf("day").diff(moment().startOf("day"),"days");if(0===e)return n.html("Today!");var o=Math.abs(e),a=o+" "+(1!=o?"days":"day")+" "+(e<0?"ago":"to go");e>0&&(a+="!"),n.html(a)}var onMainNavButtonPressed=function(){$("#main-nav").toggleClass("visible"),$(".main-nav-container-container").toggleClass("nav-open"),$(document.body).toggleClass("nav-open")},handleScroll=function(){var n=document.getElementById("main-nav-container"),t=document.getElementById("header")||document.getElementById("content"),e=n.clientHeight;t.getBoundingClientRect().top<=e?n.classList.add("fixed"):n.classList.remove("fixed")},init=function(){var n;document.domain=window.location.hostname.match(/\.theknot.com/)?"theknot.com":window.location.hostname,window.location.hash&&$(window.location.hash).length>0&&$("html, body").animate({scrollTop:$(window.location.hash).eq(0).offset().top},0),createCountdown(),$("button.main-nav").on("click",onMainNavButtonPressed),$(".rsvp-link").on("click",segmentIoTrackRsvp),$(".visit-website").on("click",segmentIoWebsiteClickThrough),$(".wide-cover-image").length&&resizeCoverPhoto(),disableTurbolinks();var t=RegExp("[?&]gid=([^&]*)").exec(window.location.search);t&&(n=t[1]),n&&""!==n&&sessionStorage.setItem("gid",n)};window.addEventListener("scroll",handleScroll),document.addEventListener("turbolinks:load",init);